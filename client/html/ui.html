<html>

    <head>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="css/ui.css" type="text/css" />

        <script src="scripts/sounds.js" type="text/javascript"></script>
        <script src="nui://game/ui/jquery.js" type="text/javascript"></script>
		

    <script>
        document.onkeydown = function (data) {
            if (data.which == '27' || '42') { // Escape key
                $('#keyfob').css('display', 'none');
                $('#car-disconnected').css('display', 'none');
                $('#car-connected').css('display', 'none');
                $('#engine-off').css('display', 'none');
                $('#engine-on').css('display', 'none');
                $('#unlocked').css('display', 'none');
                $('#locked').css('display', 'none');
                $.post('http://esx_locksystem/NUIFocusOff', JSON.stringify({}));
            }
        }
    </script>

    </head>

    <body>

        <div class="keyfob" id="keyfob">

            <div class="container">

                <div class="screen" id="screen">
                    <div id="connection-status">
                            <svg class="icon" id="car-connected" viewBox="0 0 24 24">
                                <path fill="#00ff00" d="M5,14H19L17.5,9.5H6.5L5,14M17.5,19A1.5,1.5 0 0,0 19,17.5A1.5,1.5 0 0,0 17.5,16A1.5,1.5 0 0,0 16,17.5A1.5,1.5 0 0,0 17.5,19M6.5,19A1.5,1.5 0 0,0 8,17.5A1.5,1.5 0 0,0 6.5,16A1.5,1.5 0 0,0 5,17.5A1.5,1.5 0 0,0 6.5,19M18.92,9L21,15V23A1,1 0 0,1 20,24H19A1,1 0 0,1 18,23V22H6V23A1,1 0 0,1 5,24H4A1,1 0 0,1 3,23V15L5.08,9C5.28,8.42 5.85,8 6.5,8H17.5C18.15,8 18.72,8.42 18.92,9M12,0C14.12,0 16.15,0.86 17.65,2.35L16.23,3.77C15.11,2.65 13.58,2 12,2C10.42,2 8.89,2.65 7.77,3.77L6.36,2.35C7.85,0.86 9.88,0 12,0M12,4C13.06,4 14.07,4.44 14.82,5.18L13.4,6.6C13.03,6.23 12.53,6 12,6C11.5,6 10.97,6.23 10.6,6.6L9.18,5.18C9.93,4.44 10.94,4 12,4Z" />
                            </svg>
                            <svg class="icon" id="car-disconnected" viewBox="0 0 24 24">
                                <path fill="#ff0000" d="M5,14H19L17.5,9.5H6.5L5,14M17.5,19A1.5,1.5 0 0,0 19,17.5A1.5,1.5 0 0,0 17.5,16A1.5,1.5 0 0,0 16,17.5A1.5,1.5 0 0,0 17.5,19M6.5,19A1.5,1.5 0 0,0 8,17.5A1.5,1.5 0 0,0 6.5,16A1.5,1.5 0 0,0 5,17.5A1.5,1.5 0 0,0 6.5,19M18.92,9L21,15V23A1,1 0 0,1 20,24H19A1,1 0 0,1 18,23V22H6V23A1,1 0 0,1 5,24H4A1,1 0 0,1 3,23V15L5.08,9C5.28,8.42 5.85,8 6.5,8H17.5C18.15,8 18.72,8.42 18.92,9M12,0C14.12,0 16.15,0.86 17.65,2.35L16.23,3.77C15.11,2.65 13.58,2 12,2C10.42,2 8.89,2.65 7.77,3.77L6.36,2.35C7.85,0.86 9.88,0 12,0M12,4C13.06,4 14.07,4.44 14.82,5.18L13.4,6.6C13.03,6.23 12.53,6 12,6C11.5,6 10.97,6.23 10.6,6.6L9.18,5.18C9.93,4.44 10.94,4 12,4Z" />
                            </svg>
                    </div>
                    <div id="battery">
                        <svg class="icon" id="battery-10" viewBox="0 0 24 24" >
                            <path fill="#ff0000" d="M16,18H8V6H16M16.67,4H15V2H9V4H7.33A1.33,1.33 0 0,0 6,5.33V20.67C6,21.4 6.6,22 7.33,22H16.67A1.33,1.33 0 0,0 18,20.67V5.33C18,4.6 17.4,4 16.67,4Z" />
                        </svg>
                        <svg class="icon" id="battery-20" viewBox="0 0 24 24">
                            <path fill="#ff0000" d="M16,17H8V6H16M16.67,4H15V2H9V4H7.33A1.33,1.33 0 0,0 6,5.33V20.67C6,21.4 6.6,22 7.33,22H16.67A1.33,1.33 0 0,0 18,20.67V5.33C18,4.6 17.4,4 16.67,4Z" />
                        </svg>
                        <svg class="icon" id="battery-30" viewBox="0 0 24 24">
                            <path fill="#ff0000" d="M16,15H8V6H16M16.67,4H15V2H9V4H7.33A1.33,1.33 0 0,0 6,5.33V20.67C6,21.4 6.6,22 7.33,22H16.67A1.33,1.33 0 0,0 18,20.67V5.33C18,4.6 17.4,4 16.67,4Z" />
                        </svg>
                        <svg class="icon" id="battery-40" viewBox="0 0 24 24">
                            <path fill="#ffff00" d="M16,14H8V6H16M16.67,4H15V2H9V4H7.33A1.33,1.33 0 0,0 6,5.33V20.67C6,21.4 6.6,22 7.33,22H16.67A1.33,1.33 0 0,0 18,20.67V5.33C18,4.6 17.4,4 16.67,4Z" />
                        </svg>
                        <svg class="icon" id="battery-50" viewBox="0 0 24 24">
                            <path fill="#ffff00" d="M16,13H8V6H16M16.67,4H15V2H9V4H7.33A1.33,1.33 0 0,0 6,5.33V20.67C6,21.4 6.6,22 7.33,22H16.67A1.33,1.33 0 0,0 18,20.67V5.33C18,4.6 17.4,4 16.67,4Z" />
                        </svg>
                        <svg class="icon" id="battery-60" viewBox="0 0 24 24">
                            <path fill="#ffff00" d="M16,12H8V6H16M16.67,4H15V2H9V4H7.33A1.33,1.33 0 0,0 6,5.33V20.67C6,21.4 6.6,22 7.33,22H16.67A1.33,1.33 0 0,0 18,20.67V5.33C18,4.6 17.4,4 16.67,4Z" />
                        </svg>
                        <svg class="icon" id="battery-70" viewBox="0 0 24 24">
                            <path fill="#ffff00" d="M16,10H8V6H16M16.67,4H15V2H9V4H7.33A1.33,1.33 0 0,0 6,5.33V20.67C6,21.4 6.6,22 7.33,22H16.67A1.33,1.33 0 0,0 18,20.67V5.33C18,4.6 17.4,4 16.67,4Z" />
                        </svg>
                        <svg class="icon" id="battery-80" viewBox="0 0 24 24">
                            <path fill="#00ff00" d="M16,9H8V6H16M16.67,4H15V2H9V4H7.33A1.33,1.33 0 0,0 6,5.33V20.67C6,21.4 6.6,22 7.33,22H16.67A1.33,1.33 0 0,0 18,20.67V5.33C18,4.6 17.4,4 16.67,4Z" />
                        </svg>
                        <svg class="icon" id="battery-90" viewBox="0 0 24 24">
                            <path fill="#00ff00" d="M16,8H8V6H16M16.67,4H15V2H9V4H7.33A1.33,1.33 0 0,0 6,5.33V20.67C6,21.4 6.6,22 7.33,22H16.67A1.33,1.33 0 0,0 18,20.67V5.33C18,4.6 17.4,4 16.67,4Z" />
                        </svg>
                        <svg class="icon" id="battery-100" viewBox="0 0 24 24">
                            <path fill="#00ff00" d="M16.67,4H15V2H9V4H7.33A1.33,1.33 0 0,0 6,5.33V20.67C6,21.4 6.6,22 7.33,22H16.67A1.33,1.33 0 0,0 18,20.67V5.33C18,4.6 17.4,4 16.67,4Z" />
                        </svg>
                    </div>
                    <div id="engine-status">
                        <svg class="icon" id="engine-on" viewBox="0 0 24 24">
                            <path fill="#00ff00" d="M7,4V6H10V8H7L5,10V13H3V10H1V18H3V15H5V18H8L10,20H18V16H20V19H23V9H20V12H18V8H12V6H15V4H7Z" />
                        </svg>
                        <svg class="icon" id="engine-off" viewBox="0 0 24 24">
                            <path fill="#ff0000" d="M3.78,2.5L21.5,20.22L20.23,21.5L18,19.27V20H10L8,18H5V15H3V18H1V10H3V13H5V10L6.87,8.14L2.5,3.77L3.78,2.5M20,9V12H18V8H12V6H15V4H7.82L22.82,19H23V9H20Z" />
                        </svg>
                    </div>
                    <div id="lock-status">
                        <svg class="icon" id="locked" viewBox="0 0 24 24">
                            <path fill="#00ff00" d="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z" />
                        </svg>
                        <svg class="icon" id="unlocked" viewBox="0 0 24 24">
                            <path fill="#ff0000" d="M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V10A2,2 0 0,1 6,8H15V6A3,3 0 0,0 12,3A3,3 0 0,0 9,6H7A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,17A2,2 0 0,0 14,15A2,2 0 0,0 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17Z" />
                        </svg>
                    </div>

                </div>

                <button id="button-lock"></button>
                <button id="button-unlock"></button>
                <button id="button-aux"></button>
                <button id="button-start"></button>
            </div>
        </div>

        <script type='text/javascript'>
            $(function() {
                /* open the UI for user */
                window.addEventListener('message', function(event) {

                    // Open Key Fob
                    if (event.data.type == "openKeyFob") {
                        $('#keyfob').css('display', 'block');
						
                    } else if (event.data.type == "carConnected") {
                        $('#car-connected').css('display', 'block');
                        $('#car-disconnected').css('display', 'none');
                    
                    } else if (event.data.type == "carDisconnected") {
                        $('#car-connected').css('display', 'none');
                        $('#car-disconnected').css('display', 'block');
                        $('#engine-off').css('display', 'block');
                        $('#unlocked').css('display', 'block');       
                    
                    } else if (event.data.type == "engineOn") {
                        $('#engine-on').css('display', 'block');
                        $('#engine-off').css('display', 'none');
						$('#button-start').prop('disabled', false); 
                    
                    } else if (event.data.type == "engineOff") {
                        $('#engine-on').css('display', 'none');
                        $('#engine-off').css('display', 'block');
						$('#button-start').prop('disabled', false); 
                    
                    } else if (event.data.type == "locked") {
                        $('#unlocked').css('display', 'none');
                        $('#locked').css('display', 'block');
                        $('#button-lock').prop('disabled', true);
                        $('#button-unlocked').prop('disabled', false);

                    } else if (event.data.type == "unlocked") {
                        $('#unlocked').css('display', 'block');
                        $('#locked').css('display', 'none');
                        $('#button-lock').prop('disabled', false);
                        $('#button-unlocked').prop('disabled', true);
						
                    } else if (event.data.type == "closeAll") {
						$('#keyfob').css('display', 'none');
						$('#car-disconnected').css('display', 'none');
						$('#car-connected').css('display', 'none');
						$('#engine-off').css('display', 'none');
						$('#engine-on').css('display', 'none');
						$('#unlocked').css('display', 'none');
						$('#locked').css('display', 'none');
                        $('#button-lock').prop('disabled', true);
                        $('#button-unlocked').prop('disabled', true);
                        $('#button-aux').prop('disabled', true);
                        $('#button-start').prop('disabled', true);  
						$.post('http://esx_locksystem/NUIFocusOff', JSON.stringify({}));
                    }


                    // Buttons
                    $("#button-lock").mouseup(function(){
                        $.post('http://esx_locksystem/NUILock', JSON.stringify({}));
						$('#button-lock').attr('disabled', 'disabled');
                    });
					
                    $("#button-unlock").mouseup(function(){
                        $.post('http://esx_locksystem/NUIUnlock', JSON.stringify({}));
						$('#button-unlock').attr('disabled', 'disabled');
                    });
					
                    $("#button-start").mouseup(function(){
                         $.post('http://esx_locksystem/NUIToggleEngine', JSON.stringify({}));
						 $('#button-start').attr('disabled', 'disabled');
                    });

                    // $("#button-lock").dblclick(function(){
                    //     $.post('http://esx_locksystem/NUInotSupported', JSON.stringify({}));
                    // });

                    // $("#button-unlock").dblclick(function(){
                    //     $.post('http://esx_locksystem/NUInotSupported', JSON.stringify({}));
                    // });

                    // $("#button-start").click(function(){
                    //     $.post('http://esx_locksystem/NUInotSupported', JSON.stringify({}));
                    // });

                    // $("#button-aux").click(function(){
                    //     $.post('http://esx_locksystem/NUIopenTrunk', JSON.stringify({}));
                    // });

                    // $("#button-aux").dblclick(function(){
                    //     $.post('http://esx_locksystem/NUItoggleAlarm', JSON.stringify({}));
                    // });


                });
            });
        
        </script>

    </body>

</html>